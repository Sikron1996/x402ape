<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>x402ape v9 ‚Äî PayAI agent integration</title>
  <style>
    body { font-family: sans-serif; max-width: 650px; margin: 40px auto; }
    .card { border: 1px solid #ddd; border-radius: 14px; padding: 24px; }
    button { padding: 10px 16px; border: none; border-radius: 6px; background: #0052ff; color: #fff; font-size: 14px; cursor: pointer; margin-top: 6px; }
    #status { margin-top: 16px; font-weight: 500; white-space: pre-line; }
  </style>
</head>
<body>
  <div class="card">
    <h1>x402ape v9</h1>
    <p>–û–ø–ª–∞—Ç–∞ <strong>1 USDC</strong> —É –º–µ—Ä–µ–∂—ñ Base —á–µ—Ä–µ–∑ —Ñ–∞—Å–∏–ª—ñ—Ç–∞—Ç–æ—Ä PayAI</p>
    <button id="createAgent">–°—Ç–≤–æ—Ä–∏—Ç–∏ –∞–≥–µ–Ω—Ç–∞ (–¥–ª—è –≤–ª–∞—Å–Ω–∏–∫–∞)</button>
    <button id="testPay">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –æ–ø–ª–∞—Ç—É</button>
    <div id="status"></div>
  </div>
  <script>
    const statusEl = document.getElementById('status');

    document.getElementById('createAgent').onclick = async () => {
      statusEl.textContent = 'üîÑ –°—Ç–≤–æ—Ä—é—é –∞–≥–µ–Ω—Ç–∞...';
      try {
        const res = await fetch('/api/create-agent?key=12345');
        const data = await res.json();
        statusEl.textContent = JSON.stringify(data, null, 2);
      } catch (e) {
        statusEl.textContent = '‚ùå –ü–æ–º–∏–ª–∫–∞: ' + e.message;
      }
    };

    document.getElementById('testPay').onclick = async () => {
      statusEl.textContent = '–û—Ç—Ä–∏–º—É—é 402 –≤—ñ–¥ /api/pay...';
      const r = await fetch('/api/pay');
      const data = await r.json();
      statusEl.textContent = JSON.stringify(data, null, 2);
    };
  </script>
</body>
</html>
